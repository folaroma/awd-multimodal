!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("barba",[],t):"object"==typeof exports?exports.barba=t():e.barba=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){void 0===e.forEach?Object.keys(e).forEach(function(r){t(e[r],r)}):e.forEach(t);return e},t.map=function(e,t){if(void 0===e.map)return Object.keys(e).map(function(r){return t(e[r],r)});return e.map(t)},t.getPort=t.cleanLink=t.getUrl=t.getHref=void 0;t.getHref=function(e){return e.getAttribute&&e.getAttribute("href")?e.href:void 0};t.getUrl=function(){return window.location.href};t.cleanLink=function(e){return e.replace(/#.*/,"")};t.getPort=function(e){var t=void 0===e?window.location.port:e,r=window.location.protocol;return""!==t?parseInt(t,10):"https:"===r?443:80}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(23)),i=n(r(24)),a={off:0,error:1,warning:2,info:3,debug:4},u=a.off,s=function(){function e(t){(0,o.default)(this,e),this._source=t}return(0,i.default)(e,[{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(console.error,a.error,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(console.warn,a.warning,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(console.info,a.info,t)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(console.log,a.debug,t)}},{key:"_log",value:function(t,r,n){if(r<=e.level){var o=this._source?["[".concat(this._source,"] ")].concat(n):n;t.apply(console,o)}}}],[{key:"level",get:function(){return u},set:function(e){return u=a[e]}}]),e}();t.default=s},function(e,t,r){e.exports=r(15)},function(e,t){function r(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={init:function(e){var t=e.attributeSchema;this.attr=t,this.parser=new DOMParser},toString:function(e){return e.outerHTML},toDocument:function(e){return this.parser.parseFromString(e,"text/html")},getHtml:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return this.toString(e.documentElement)},getWrapper:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector("[".concat(this.attr.prefix,'="').concat(this.attr.wrapper,'"]'))},getContainer:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector("[".concat(this.attr.prefix,'="').concat(this.attr.container,'"]'))},getNamespace:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector("[".concat(this.attr.prefix,"-").concat(this.attr.namespace,"]"));return e?e.getAttribute("".concat(this.attr.prefix,"-").concat(this.attr.namespace)):null}};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(1),i={_logger:new(n(r(2)).default)("@barba/core"),_available:["go","refresh","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeAppear","appear","afterAppear","appearCanceled","before","beforeLeave","leave","afterLeave","leaveCanceled","beforeEnter","enter","afterEnter","enterCanceled","after"],_registered:{},init:function(){var e=this;return this._available.forEach(function(t){e[t]||(e[t]=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e._registered[t]=e._registered[t]||[],e._registered[t].push({fn:r,ctx:n})})}),this},destroy:function(){return this._registered={},this},do:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e in this._registered!=!1&&this._registered[e].forEach(function(e){e.fn.apply(e.ctx,r)})},help:function(){this._logger.info("[@barba/core] Available hooks: ".concat(this._available)),this._logger.info("[@barba/core] Registered hooks: ".concat((0,o.map)(this._registered,function(e,t){return t})))}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={_data:{},set:function(e,t){return this._data[e]=t,t},get:function(e){return this._data[e]},delete:function(e){return delete this._data[e]},has:function(e){return e in this._data},reset:function(){this._data={}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(1),o={_tests:{},init:function(e){var t=this,r=e.attributeSchema;this.attr=r,this.add("pushState",function(){return!window.history.pushState}),this.add("exists",function(e){var t=e.el,r=e.href;return!t||!r}),this.add("newTab",function(e){var t=e.event;return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey}),this.add("blank",function(e){var t=e.el;return t.hasAttribute("target")&&"_blank"===t.target}),this.add("corsDomain",function(e){var t=e.el;return window.location.protocol!==t.protocol||window.location.hostname!==t.hostname}),this.add("corsPort",function(e){var t=e.el;return(0,n.getPort)()!==(0,n.getPort)(t.port)}),this.add("download",function(e){var t=e.el;return t.getAttribute&&"string"==typeof t.getAttribute("download")}),this.add("preventSelf",function(e){return e.el.hasAttribute("".concat(t.attr.prefix,"-").concat(t.attr.prevent))}),this.add("preventAll",function(e){var r=e.el;return Boolean(r.closest("[".concat(t.attr.prefix,"-").concat(t.attr.prevent,'="all"]')))})},add:function(e,t){this._tests[e]=t},check:function(e,t,r){var n=this;return Object.keys(this._tests).some(function(o){return n._tests[o]({el:e,event:t,href:r})})},sameUrl:function(e){return(0,n.cleanLink)(e)===(0,n.cleanLink)(window.location.href)}};t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),i=n(r(4));function a(){return(a=(0,i.default)(o.default.mark(function e(t){var r,n,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=navigator.connection)){e.next=4;break}if(!(r.effectiveType&&r.effectiveType.match(/2g/)||r.saveData)){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Bad connection or reduced data usage mode")));case 4:return n=new Headers({"x-barba":"yes"}),e.prev=5,e.next=8,fetch(t,{method:"GET",headers:n,cache:"default"});case 8:if(!((i=e.sent).status>=200&&i.status<300)){e.next=13;break}return e.next=12,i.text();case 12:return e.abrupt("return",e.sent);case 13:throw new Error(i.statusText||i.status);case 16:throw e.prev=16,e.t0=e.catch(5),e.t0;case 19:case"end":return e.stop()}},e,this,[[5,16]])}))).apply(this,arguments)}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,r=arguments.length>2?arguments[2]:void 0;return function(e,t,r,n){return new Promise(function(o,i){var a=window.setTimeout(function(){var t=new Error("Timeout error");n(e,t),i(t)},t);r.then(function(e){window.clearTimeout(a),o(e)},function(t){window.clearTimeout(a),n(e,t),i(t)})})}(e,t,function(e){return a.apply(this,arguments)}(e),r)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0});var o={cache:!0,dom:!0,prevent:!0,request:!0};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"cache",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"dom",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"prevent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"request",{enumerable:!0,get:function(){return c.default}});var i=n(r(11)),a=n(r(7)),u=n(r(5)),s=n(r(8)),c=n(r(9)),f=r(1);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))})},function(e,t,r){"use strict";var n=r(12),o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(13)),a=o(r(3)),u=o(r(4)),s=r(17),c=r(18),f=r(19),l=o(r(2)),h=o(r(7)),d=o(r(5)),p=o(r(27)),v=o(r(6)),g=o(r(8)),b=o(r(9)),m=o(r(28)),y=n(r(1));r(29),r(30);var _={version:s.version,Logger:l.default,manager:f.manager,store:f.store,cache:h.default,hooks:v.default.init(),prevent:g.default,request:b.default,utils:y,pageSchema:c.pageSchema,_plugins:[],use:function(e){var t=this._plugins;if(t.indexOf(e)>-1)return this;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if("function"==typeof e.install)e.install.apply(e,[this].concat(n));else{if("function"!=typeof e)return!1;e.apply(void 0,[this].concat(n))}return t.push(e),this},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.transitions,r=void 0===t?[]:t,n=e.views,o=void 0===n?[]:n,i=e.schema,a=void 0===i?c.attributeSchema:i,u=e.prevent,s=void 0===u?null:u,h=e.timeout,v=void 0===h?2e3:h,g=e.requestError,b=void 0===g?void 0:g,y=e.useCache,_=void 0===y||y,w=e.usePrefetch,x=void 0===w||w,E=e.debug,k=void 0!==E&&E,P=e.log,j=void 0===P?"off":P;if(l.default.level=!0===k?"debug":j,this.logger=new this.Logger("@barba/core"),this._requestError=b,this._timeout=v,this.useCache=_,this.usePrefetch=x,d.default.init({attributeSchema:a}),this.prevent.init({attributeSchema:a}),null!==s){if("function"!=typeof s)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",s)}if(this._wrapper=d.default.getWrapper(),!this._wrapper)throw new Error("[@barba/core] No Barba wrapper found");if(this._wrapper.setAttribute("aria-live","polite"),this.store=f.store.init(r),m.default.init(this,o),this._initPages(),p.default.add(this._current.url,this._current.namespace),!this._current.container)throw new Error("[@barba/core] No Barba container found");this.cache.set(this._current.url,Promise.resolve(this._current.html)),this.useCache&&this.usePrefetch&&(this._onLinkEnter=this._onLinkEnter.bind(this),this._onLinkClick=this._onLinkClick.bind(this)),this._onStateChange=this._onStateChange.bind(this),this._bind(),this._plugins.forEach(function(e){return e.init()}),this.appear()},get wrapper(){return this._wrapper},_bind:function(){this.useCache&&this.usePrefetch&&(document.addEventListener("mouseover",this._onLinkEnter),document.addEventListener("touchstart",this._onLinkEnter)),document.addEventListener("click",this._onLinkClick),window.addEventListener("popstate",this._onStateChange)},_onLinkEnter:function(e){for(var t=this,r=e.target;r&&!this.utils.getHref(r);)r=r.parentNode;if(r&&!this.prevent.check(r,e,r.href)){var n=this.utils.getHref(r);this.cache.has(n)||this.cache.set(n,this.request(n,this._timeout,this._onRequestError.bind(this,"enter")).catch(function(e){return t.logger.error(e)}))}},_onLinkClick:function(e){for(var t=e.target;t&&!this.utils.getHref(t);)t=t.parentNode;t&&!this.prevent.check(t,e,t.href)&&(e.stopPropagation(),e.preventDefault(),t&&!this.prevent.sameUrl(t.href)?this.go(this.utils.getHref(t),t):this.force(t.href))},_onStateChange:function(){var e=this.utils.getUrl();this.go(e,"popstate")},_onRequestError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=r[0],i=r[1];this.cache.delete(o),this._requestError&&!1===this._requestError(e,o,i)||"click"===e&&this.force(o)},appear:function(){var e=(0,u.default)(a.default.mark(function e(){var t,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hasAppear){e.next=11;break}return e.prev=1,t=this._getData(),r=this.store.get(t,!0),e.next=6,this.manager.doAppear({transition:r,data:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.logger.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),go:function(){var e=(0,u.default)(a.default.mark(function e(t){var r,n,o,i,u=this,s=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:"barba",!this.manager.running){e.next=4;break}return this.force(t),e.abrupt("return");case 4:if(this._next.url=t,this._trigger=r,n=this.useCache?this.cache.has(t)?this.cache.get(t):this.cache.set(t,this.request(t,this._timeout,this._onRequestError.bind(this,"click"))):this.request(t,this._timeout,this._onRequestError.bind(this,"click")),!this.store.wait){e.next=10;break}return e.next=10,n.then(function(e){var t=d.default.toDocument(e);u._next.namespace=d.default.getNamespace(t),u._next.container=d.default.getContainer(t),u._next.html=d.default.getHtml(t)});case 10:return"popstate"===r?p.default.add(t,this._next.namespace):p.default.go(t,this._next.namespace),o=this._getData(),v.default.do("go",o),e.prev=13,i=this.store.get(o),e.next=17,this.manager.doPage({transition:i,data:o,page:n,wrapper:this._wrapper});case 17:this._updateTitle(o),this._refreshPages(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(13),p.default.cancel(),this.logger.error(e.t0);case 25:case"end":return e.stop()}},e,this,[[13,21]])}));return function(t){return e.apply(this,arguments)}}(),force:function(e){window.location.assign(e)},_getData:function(){return{current:this._current,next:this._next,trigger:this._trigger}},_initPages:function(){this._refreshPages()},_refreshPages:function(){this._current=(0,i.default)({},this.pageSchema),this._next=(0,i.default)({},this.pageSchema),this._current.namespace=d.default.getNamespace(),this._current.url=this.utils.getUrl(),this._current.container=d.default.getContainer(),this._current.html=d.default.getHtml(),v.default.do("refresh",this._getData())},_updateTitle:function(e){var t=e.next.html,r=d.default.toDocument(t).title;document.title=r}};t.default=_},function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}},function(e,t,r){var n=r(14);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(16),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"==typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},g={};g[a]=function(){return this};var b=Object.getPrototypeOf,m=b&&b(b(N([])));m&&m!==n&&o.call(m,a)&&(g=m);var y=k.prototype=x.prototype=Object.create(g);E.prototype=y.constructor=k,k.constructor=E,k[s]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},f.awrap=function(e){return{__await:e}},P(j.prototype),j.prototype[u]=function(){return this},f.AsyncIterator=j,f.async=function(e,t,r,n){var o=new j(_(e,t,r,n));return f.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},P(y),y[s]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return u.type="throw",u.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function _(e,t,r,n){var o=t&&t.prototype instanceof x?t:x,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var s=w(e,t,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function E(){}function k(){}function P(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function j(e){var t;this._invoke=function(r,n){function i(){return new Promise(function(t,i){!function t(r,n,i,a){var u=w(e[r],e,n);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},function(e){return t("throw",e,i,a)})}a(u.arg)}(r,n,t,i)})}return t=t?t.then(i,i):i()}}function O(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,O(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=w(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e){e.exports={name:"@barba/core",version:"2.0.1-next.66+1463979",description:"Barba is a ...",publishConfig:{access:"public"},browser:"dist/barba.min.js",main:"lib/index.js",module:"esm/index.js",files:["dist","lib","esm"],keywords:["pjax","navigation","sfsf"],homepage:"https://github.com/barbajs/barba-next#readme",bugs:{url:"https://github.com/barbajs/barba-next/issues"},license:"MIT",repository:{type:"git",url:"git+ssh://git@github.com/barbajs/barba-next.git"},scripts:{build:"npm-run-all build:commonjs build:umd build:umd:min build:esm","build:watch":"npm-run-all -l -p build:umd:watch build:esm:watch","build:commonjs":"cross-env BABEL_ENV=commonjs babel src --out-dir lib","build:esm":"cpx 'src/**/*.{mjs,js,json}' esm","build:esm:watch":"cpx 'src/**/*.{mjs,js,json}' esm -w","build:umd":"cross-env BABEL_ENV=umd NODE_ENV=development webpack --progress --profile","build:umd:watch":"cross-env BABEL_ENV=umd NODE_ENV=development webpack --progress --profile --watch","build:umd:min":"cross-env BABEL_ENV=umd NODE_ENV=production webpack --progress --profile",clear:"rimraf dist esm lib",lint:"eslint src/**",precommit:"lint-staged",watch:"jest --colors --watch",test:"npm-run-all lint unit build e2e",unit:"jest --coverage","e2e:dev":"cypress open",e2e:"cypress run --browser chrome --group=prefetch","start-server":"http-server . -p 8111","e2e-test":"cypress run --browser chrome","e2e-gui":"cypress open","e2e:bar":"start-server-and-test start-server :8111 e2e-test","e2e:foo":"start-server-and-test start-server :8111 e2e-gui"},dependencies:{"@babel/runtime":"^7.2.0","run-async":"^2.3.0"},gitHead:"1463979c96852bdaf5bce1a6d78cda811cbe8613"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageSchema=t.attributeSchema=void 0;t.attributeSchema={prefix:"data-barba",wrapper:"wrapper",container:"container",prefetch:"prefetch",prevent:"prevent",namespace:"namespace"};var n={namespace:void 0,url:void 0,container:void 0,html:void 0};t.pageSchema=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"manager",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"store",{enumerable:!0,get:function(){return i.default}});var o=n(r(20)),i=n(r(25))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),i=n(r(4)),a=n(r(21)),u=n(r(5)),s=n(r(6)),c={_logger:new(n(r(2)).default)("@barba/core"),running:!1,doAppear:function(){var e=(0,i.default)(o.default.mark(function e(t){var r,n,i,a=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transition,n=t.data,r||this._logger.warn("No transition found"),i=r||{},this.running=!0,s.default.do("beforeAppear",n,i),i.beforeAppear&&i.beforeAppear(n),s.default.do("appear",n,i),e.next=9,this.appear(i,n).then(function(){s.default.do("afterAppear",n,i),i.afterAppear&&i.afterAppear(n)}).catch(function(e){throw s.default.do("appearCanceled",n,i),i.appearCanceled&&i.appearCanceled(n),a._logger.error(e),new Error("Transition error")});case 9:this.running=!1;case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),appear:function(e,t){return e.appear?(0,a.default)(e.appear)(t):Promise.resolve()},doPage:function(){var e=(0,i.default)(o.default.mark(function e(t){var r,n,i,a,u,s,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transition,n=t.data,i=t.page,a=t.wrapper,r||this._logger.warn("No transition found"),s=!0===(u=r||{}).sync||!1,this.running=!0,e.prev=5,!s){e.next=9;break}return e.next=9,this._waitForPage(i,n);case 9:if(this.before(u,n),!s){e.next=21;break}return this.beforeLeave(u,n),this.beforeEnter(u,n,i),this.addNext(n,a),e.next=16,Promise.all([this.leave(u,n),this.enter(u,n)]);case 16:this.afterLeave(u,n),this.removeCurrent(n),this.afterEnter(u,n),e.next=34;break;case 21:return c=!1,this.beforeLeave(u,n),e.next=25,Promise.all([this.leave(u,n),this._waitForPage(i,n)]).then(function(e){return e[0]}).catch(function(e){throw e});case 25:if(c=e.sent,this.afterLeave(u,n),this.removeCurrent(n),!1===c){e.next=34;break}return this.beforeEnter(u,n,i),this.addNext(n,a),e.next=33,this.enter(u,n,c);case 33:this.afterEnter(u,n,c);case 34:this.after(u,n),e.next=41;break;case 37:throw e.prev=37,e.t0=e.catch(5),this._logger.error(e.t0),new Error("Transition error");case 41:this.running=!1;case 42:case"end":return e.stop()}},e,this,[[5,37]])}));return function(t){return e.apply(this,arguments)}}(),_waitForPage:function(e,t){return t.next.html?Promise.resolve():e.then(function(e){var r=u.default.toDocument(e);t.next.namespace=u.default.getNamespace(r),t.next.container=u.default.getContainer(r),t.next.html=u.default.getHtml(r)})},before:function(e,t){s.default.do("before",t,e),e.before&&e.before(t)},after:function(e,t){s.default.do("after",t,e),e.after&&e.after(t)},beforeLeave:function(e,t){s.default.do("beforeLeave",t,e),e.beforeLeave&&e.beforeLeave(t)},leave:function(e,t){return s.default.do("leave",t,e),e.leave?(0,a.default)(e.leave)(t).then(function(e){return e}):Promise.resolve()},afterLeave:function(e,t){s.default.do("afterLeave",t,e),e.afterLeave&&e.afterLeave(t)},beforeEnter:function(e,t){s.default.do("beforeEnter",t,e),e.beforeEnter&&e.beforeEnter(t)},enter:function(e,t,r){return s.default.do("enter",t,e),e.enter?(0,a.default)(e.enter)(t,r):Promise.resolve()},afterEnter:function(e,t){s.default.do("afterEnter",t,e),e.afterEnter&&e.afterEnter(t)},addNext:function(e,t){t.appendChild(e.next.container),s.default.do("nextAdded",e)},removeCurrent:function(e){e.current.container.remove(),s.default.do("currentRemoved",e)}};t.default=c},function(e,t,r){"use strict";var n=r(22),o=e.exports=function(e,t){return t=t||function(){},function(){var r=!1,o=arguments,i=new Promise(function(t,i){var a=e.apply({async:function(){return r=!0,function(e,r){e?i(e):t(r)}}},Array.prototype.slice.call(o));r||(n(a)?a.then(t,i):t(a))});return i.then(t.bind(null,null),t),i}};o.cb=function(e,t){return o(function(){var t=Array.prototype.slice.call(arguments);return t.length===e.length-1&&t.push(this.async()),e.apply(this,t)},t)}},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(26),i={_logger:new(n(r(2)).default)("@barba/core"),_rules:[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],_all:[],_appear:[],_page:[],wait:!1,get hasAppear(){return this._appear.length>0},init:function(e,t){return this._debug=t,e&&(this._all=this._all.concat(e)),this._update(),this},destroy:function(){return this._active=void 0,this._debug=!1,this._all=[],this._appear=[],this._page=[],this.wait=!1,this._update(),this},add:function(e,t){switch(e){case"rule":this._rules.splice(t.position||0,0,t.value);break;case"transition":default:this._all.push(t)}this._update()},get:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r?this._appear:this._page,o=new Map,i=n.find(function(n){var i=!0,a={};return t._rules.reverse().forEach(function(o){i&&(i=t._check(n,o,e,a),r||(n.from&&n.to&&(i=t._check(n,o,e,a,"from")&&t._check(n,o,e,a,"to")),n.from&&!n.to&&(i=t._check(n,o,e,a,"from")),!n.from&&n.to&&(i=t._check(n,o,e,a,"to"))))}),o.set(n,a),i});return this._logger.info(o.get(i)),i},_update:function(){this._all=this._all.map((0,o.addPriority)(this._rules)).sort(function(e,t){return e.priority-t.priority}).reverse().map(function(e){return delete e.priority,e}),this._page=this._all.slice(0),this._appear=this._all.filter(function(e){return e.appear}),this.wait=this._all.some(function(e){return e.to&&!e.to.route})},_check:function(e,t,r,n,o){var i=!0,a=!1,u=e,s=t.name,c=t.type,f=o?u[o]:u,l="to"===o?r.next:r.current;if(o?f&&f[s]:f[s]){switch(c){case"strings":default:var h=Array.isArray(f[s])?f[s]:[f[s]];l[s]&&-1!==h.indexOf(l[s])&&(a=!0),-1===h.indexOf(l[s])&&(i=!1);break;case"function":f[s](r)?a=!0:i=!1}a&&(o?(n[o]=n[o]||{},n[o][s]=u[o][s]):n[s]=u[s])}return i}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPriority=void 0;t.addPriority=function(e){return function(t){t.priority=0;var r=0;return e.forEach(function(e,n){var o=e.name;r+=function(e,t,r){var n=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(n+=Math.pow(10,r),e.from&&e.from[t]&&(n+=1),e.to&&e.to[t]&&(n+=2)),n}(t,o,n+1)}),t.priority=r,t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={_history:[],add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._history.push({url:e,namespace:t})},remove:function(){this._history.pop()},go:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.add(e,t),window.history&&window.history.pushState(null,"",e)},cancel:function(){this.remove(),window.history&&window.history.back()},current:function(){var e=this._history;return e[e.length-1]},previous:function(){var e=this._history;return e.length<2?null:e[e.length-2]}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={_byNamespace:{},init:function(e,t){return 0===t.length?this:(this._byNamespace=t.reduce(function(e,t){return e[t.namespace]=t,delete e[t.namespace].namespace,e},{}),e.hooks.beforeAppear(this._getHook("beforeAppear"),this),e.hooks.afterAppear(this._getHook("afterAppear"),this),e.hooks.beforeLeave(this._getHook("beforeLeave"),this),e.hooks.afterLeave(this._getHook("afterLeave"),this),e.hooks.beforeEnter(this._getHook("beforeEnter"),this),e.hooks.afterEnter(this._getHook("afterEnter"),this),this)},_getHook:function(e){var t=this;return function(r){var n=t._byNamespace[r.current.namespace];n&&n[e]&&n[e](r)}}}},function(e,t,r){"use strict";Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}}]).default});